import{m as $,i as y,j as k,w as h,o,c as d,a as e,t as D,F as p,d as P,g as u,y as V,z as G,f as w,A as x,b as C,B as O,l as I,k as L,u as R,S as A,C as B,n as H,r as f,p as v,D as b}from"./index-Khk-ymD3.js";const S={class:"hot-offers"},M={class:"hot-offers__container container"},U={class:"cards-filter-block"},z={class:"cards-filter-block__header"},N={class:"cards-filter-block__title-block"},F={class:"cards-filter-block__title"},j={class:"embla__container cards-filter-embla__container"},E=["src","alt"],T={class:"cards-products-embla__container embla__container"},q={__name:"HotOffersCarusel",props:$(["gamesList","activeGameId","hotOffersData"],{mobileCurrentPage:{},mobileCurrentPageModifiers:{},currentPage:{},currentPageModifiers:{}}),emits:$(["changeActiveGames"],["update:mobileCurrentPage","update:currentPage"]),setup(c){const l=y(c,"mobileCurrentPage"),a=y(c,"currentPage"),[r]=k({align:"start"}),[i,s]=k({align:"start",breakpoints:{"(max-width: 374px)":{active:!1},"(min-width: 1210px)":{active:!1}}});return h(a,()=>{s.value.scrollTo(0)}),(m,n)=>(o(),d("section",S,[e("div",M,[e("div",U,[e("div",z,[e("div",N,[e("h2",F,D(m.$t("mainPage.hotOffers")),1)]),e("div",{class:"cards-filter-block__filters-block cards-filter-embla embla",ref_key:"emblaRef",ref:r},[e("div",j,[(o(!0),d(p,null,P(c.gamesList,(t,_)=>(o(),d("div",{class:"cards-filter-block__filter embla__slide cards-filter-embla__slide",key:_},[u(x,{class:"link_underline",onClick:te=>m.$emit("changeActiveGameId",t.id)},{default:V(()=>[t.logo_filter?(o(),d("img",{key:0,class:G(["cards-filter-block__filter-icon",{"cards-filter-block__filter-icon_active":c.activeGameId===t.id}]),src:t.logo_filter,alt:t.logo_filter_alt},null,10,E)):w("",!0)]),_:2},1032,["onClick"])]))),128))])],512)]),e("div",{class:"cards-filter-block__main cards-products-embla embla",ref_key:"emblaProductsRef",ref:i},[e("div",T,[(o(!0),d(p,null,P(c.hotOffersData[a.value-1].items,(t,_)=>(o(),C(O,{class:"embla__slide cards-products-embla__slide",key:_,data:t},null,8,["data"]))),128))])],512),u(I,{class:"hot-offers__pagination",countPages:c.hotOffersData[a.value-1].count,modelValue:a.value,"onUpdate:modelValue":n[0]||(n[0]=t=>a.value=t)},null,8,["countPages","modelValue"]),u(L,{data:c.hotOffersData,component:O,modelValue:l.value,"onUpdate:modelValue":n[1]||(n[1]=t=>l.value=t)},null,8,["data","modelValue"])])])]))}},J={class:"hot-offers"},K={class:"hot-offers__container container"},Q={class:"cards-filter-block"},W={class:"cards-filter-block__header"},X={class:"cards-filter-block__title-block"},Y={class:"cards-filter-block__title"},Z={class:"embla__container cards-filter-embla__container"},ee={class:"cards-products-embla__container embla__container"},ae={__name:"HotOffersCaruselSkeletor",setup(c){const[l]=k({align:"start"}),[a]=k({align:"start",breakpoints:{"(max-width: 374px)":{active:!1},"(min-width: 1210px)":{active:!1}}});return(r,i)=>(o(),d("section",J,[e("div",K,[e("div",Q,[e("div",W,[e("div",X,[e("h2",Y,D(r.$t("mainPage.hotOffers")),1)]),e("div",{class:"cards-filter-block__filters-block cards-filter-embla embla",ref_key:"emblaRef",ref:l},[e("div",Z,[(o(),d(p,null,P(4,s=>e("div",{class:"cards-filter-block__filter embla__slide cards-filter-embla__slide",key:s},[u(R(A),{width:"34",height:"34",pill:""})])),64))])],512)]),e("div",{class:"cards-filter-block__main cards-products-embla embla",ref_key:"emblaProductsRef",ref:a},[e("div",ee,[(o(),d(p,null,P(4,s=>u(B,{class:"embla__slide cards-products-embla__slide",key:s})),64))])],512),u(H,{class:"hot-offers__pagination"})])])]))}},g=4,le={__name:"HotOffersBlockComponent",props:["gamesList"],setup(c){const l=f([[]]),a=f(!0),r=f(1),i=f(1),s=f(0);v(b,l,a,r.value,s.value,g);const m=n=>{s.value===n?s.value=null:s.value=n};return h(r,()=>{l.value[r.value-1]==null&&(a.value=!0,v(b,l,a,r.value,s.value,g))}),h(s,()=>{l.value=[],r.value=1,i.value=1,l.value[r.value-1]==null&&(a.value=!0,v(b,l,a,r.value,s.value,g))}),h(i,()=>{i.value===1&&(a.value=!0),l.value[i.value-1]==null&&v(b,l,a,i.value,s.value,g)}),(n,t)=>a.value?(o(),C(ae,{key:1})):(o(),C(q,{key:0,hotOffersData:l.value,activeGameId:s.value,gamesList:c.gamesList,currentPage:r.value,"onUpdate:currentPage":t[0]||(t[0]=_=>r.value=_),mobileCurrentPage:i.value,"onUpdate:mobileCurrentPage":t[1]||(t[1]=_=>i.value=_),onChangeActiveGameId:m},null,8,["hotOffersData","activeGameId","gamesList","currentPage","mobileCurrentPage"]))}};export{le as default};
